<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Summernote</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

  <link rel="stylesheet" type="text/css" href="bootstrap.min.css">
  <script src = "https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js"></script>



</head>
<body>

    <div>
        <img src="images/thumbs/tile1.jpg">
    </div>
    
  <div id="summernote"><p></p></div>
  <div class="click2edit">Kliknite kako bi promenili sadrzaj</div>
    <button id="dugme" class="btn btn-primary" onclick="myFunction()" type="button">Azuriraj opis slike</button>
    <div>
        <button id="save" class="btn btn-primary" onclick="save()" type="button">Sacuvaj</button>
        <button id="otkazi" class="btn btn-primary" onclick="otkazi()" type="button">Otkazi</button>
    </div>
  <script>
      document.getElementById("save").style.visibility = 'hidden';
      document.getElementById("otkazi").style.visibility = 'hidden';
      var saved = document.querySelector(".click2edit");
      function myFunction(){
        $(document).ready(function() {
        $('.click2edit').summernote({focus: true});
        // $('.click2edit').summernote({focus: true});
        document.getElementById("dugme").style.visibility = 'hidden';
        document.getElementById("save").style.visibility = 'visible';
        document.getElementById("otkazi").style.visibility = 'visible';
        console.log(saved);
        function otkazi(){

        }
    });
    
      }
    //   function otkazi(){
    //     var dokument = document.querySelector(".click2edit");
    //     dokument = saved;
    //     console.log(dokument);
    //     }
            // $('.click2edit').summernote('saveRange');
        var otkazi = function() {
            var dokument = document.querySelector(".click2edit");
            for(var i = 0; i<100; i++){
                $('.click2edit').summernote('undo');
            }
            $('.click2edit').summernote('destroy');
            document.getElementById("dugme").style.visibility = 'visible';
            document.getElementById("save").style.visibility = 'hidden';
            document.getElementById("otkazi").style.visibility = 'hidden';

};
   
  </script>
  <script>
      var save = function() {
    bootbox.confirm("Da li ste sigurni da zelite da sacuvate?", function(result){ 
        if(result == true){
            var markup = $('.click2edit').summernote('code');
     $('.click2edit').summernote('destroy');
    document.getElementById("dugme").style.visibility = 'visible';
    document.getElementById("save").style.visibility = 'hidden';
    document.getElementById("otkazi").style.visibility = 'hidden';
    console.log('This was logged in the callback: ' + result); 
        }
});
};
  </script>
</body>
</html>